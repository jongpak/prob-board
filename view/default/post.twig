{% extends file('layout') %}

{% block body %}
<article>
<h2 class="page-header">{{ post.getSubject() }}</h2>

<ul class="postInfo well list-unstyled">
    <li><span>Author:</span> {{ post.getAuthor() }}</li>
    <li><span>Time:</span> {{ post.getCreatedAt() | date('Y-M-d') }}</li>
</ul>

<div class="content">
{{
    post.getContent
    | escape
    | nl2br
}}
</div>

<div class="file">
{% for file in post.getAttachemntFile() %}
    <a href="{{ readUri(file) }}" class="btn btn-default btn-sm">{{ file.getName() }}</a>
{% endfor %}
</div>

</article>

<nav class="action">
    <a class="btn btn-default" href="{{ readUri(post.getBoard()) }}">List</a>
    <a class="btn btn-default" href="{{ updateUri(post) }}">Edit</a>
    <a class="btn btn-default" href="{{ deleteUri(post) }}">Delete</a>
</nav>

<section class="comment">
<h3>Comments</h3>

{% if comments is empty %}
    <p>No comment.</p>
{% else %}
    {% include file('comment') %}
{% endif %}

<div class="well">
{% include file('commentForm') %}
</div>
</section>

<nav class="action">
    <a class="btn btn-default" href="{{ readUri(post.getBoard()) }}">List</a>
    <a class="btn btn-default" href="{{ updateUri(post) }}">Edit</a>
    <a class="btn btn-default" href="{{ deleteUri(post) }}">Delete</a>
</nav>
{% endblock %}
